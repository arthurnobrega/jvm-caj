http://homepages.inf.ed.ac.uk/kwxm/JVM/codeByFn.html